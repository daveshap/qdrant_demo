How to gain back confidence after being fired twice in a row?
So this whole situation started late 2018 when i was diagnosed with anxiety and depression, after i was given an offer for a really good opportunity to work at an highly respected company to start Jan 2019.

When i started the job i disclosed my mental illness at the time as this company gave the impression that they care about their employees mental health, and that they had a number of mental health ambassadors around so if someone needed to talk they could have a chat with one of them. This obviously appealed to me at the time as i felt as though i could be open... boy was i completed wrong.

Things started to hit the fan only a few days into this job where my manager caught me crying outside the office, and she told me that i was not capable of this position and that they needed someone strong to be in this position and it was a highly pressured role dealing with various reports and having meetings with senior managers and directors. Now her response did take me back, so i plead with her to give me a chance and that i can make this work.

Now to cut a long story short here my manager was micromanaging me as this was her first time being a manager so i figured she didn’t know how to manager due to being inexperienced. So i carried on doing what I’m doing and then she started becoming hostile and shouting at me for things like spelling issues, fonts not right and not cleaning the email mailbox. 
Now to be honest my mental health through this got worst as i was making mistakes but i felt i could not concentrate as my manager was always on my back making me feel more nervous, and at times every task i would do i felt i would have to run it past her just to see if i was doing the work to her standard. But all this came to backfire on me as i was fired at the end of my probation and one of the major feedback points were that i did not take initiative and that i felt everything i do had to be audited

The second job i started this year in January and from the start i noticed that manager that was trying to train me wasn’t clear in her expectations of what i was supposed to be doing in the role and i found my self having to ask her over and over what i needed to be doing. Once i started getting an hang on what i was supposed to be doing she would say things like ‘ i didn’t say, if you remember i said’ but the thing is i was documenting everything she said and i even told her this but she claimed she could not recall her saying anything i told her she said. So during my time at this job i noticing more and more that my manager backtracks on everything that she says, its almost like she has amnesia and also she would say small things that would offend me like ‘I’m not a senior as I’m not doing senior work’ but when i would ask her for specifics she was say ‘well your a senior you should already know, and its not my job to tell you your job’ so after this i reported her to her manager as at the time i didn’t want to speak to HR yet and her manager advised me that he will go to HR on my behalf and obviously that backfired and i was let go about 3 weeks after that 

Now prior to these two jobs i had a really good career and done my job at an excellent level according to previous employers and coworkers. But I’m not gunna lie these last two jobs really took a hit at my confidence and it had make me question my competency in my career. I realised that the problems at these two roles were me and managers jointly. So during the quarantine i have been doing different courses and researching materials online with relation to my role and to also improve my mental health so that i try and gain back the confidence lost, however i cant help these negative thoughts about not succeeding in my next role. Like what if i get a manager that doesn’t train properly or once that micromanages how do i at least survive probation.

Some advice would be greatly appreciated