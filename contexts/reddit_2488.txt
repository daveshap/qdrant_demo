Update: got a job offer but failed drug test due to marijuana in NorCal . Is this end of the road?
So some suggested I just go and tell the truth. I told them that I had make a mistake and smoked and that I didn’t have any disability to get the doctor recommendation for prescription. I had a doctors Rec couple of years before but not currently and that I didn’t need to be high all the time to function and work. They said since it is a national company they were ok if I were able to get the rec. I do have some medical issues but I didn’t get any rec for it because I had quit smoking. They said as long as the recommendations was given for ADA defined issues then it would be ok. So I went ahead and got a doctors recommendation today for some health issues. Therefore I would be able to get this job now. Was stressed out as I’ve been unemployed for a while but looks like light at the end of the road 

Edit: thank you to all for support and suggestions. I can see why Reddit is so powerful now