Is it secure to store encryption key (encrypted with master key) with the data it was used to encrypt? I am working on a password sharing web site. I would like users to be able to enter their credentials and share them with other users. I am thinking about using KMS service to store master key (just one) and have a database to store key - credentials pairs. User's credentials will be encrypted with the key from the database and the key stored in the database (different for each credentials) will be encrypted using KMS master key. AES encryption algorithms will be used for both: encrypting user's credentials and encrypting the key used to encrypt the credentials. Would it be secure enough to store encrypted key along with credentials or is there a better approach?